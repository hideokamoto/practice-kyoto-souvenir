# 京都再発見アプリ - UX/IA設計書

## 1. コンセプト

**「地元だからこそ、もっと楽しもう」**

京都に住む人々が「いつでも行けるから」という理由で、実は行ったことがない観光地を発見し、行動を促すアプリ。

## 2. ユーザーペルソナ

### 主要ユーザー
- **京都在住者**：日常的に京都に住んでいるが、観光地に行く機会が少ない
- **行動特性**：
  - 「いつでも行ける」と思って先延ばしにする
  - 新しい発見への興味はあるが、きっかけがない
  - 週末の過ごし方に迷うことがある
  - 地元の魅力を再発見したい

## 3. ユーザージャーニー（発見ページに焦点）

### 3.1 アプリを開く瞬間
**コンテキスト**: 週末の過ごし方に迷っている、何か新しい発見をしたい
**感情**: 期待、少しの不安（選択肢が多すぎる）
**問い**: 「今日、何をしよう？」
**必要な情報**: 1つの明確な提案

### 3.2 提案を見る
**コンテキスト**: 画面に1つのスポットが表示される
**感情**: 興味、または「違うかも」という迷い
**問い**: 「これに行く？それとも別の場所？」
**必要な情報**: スポットの基本情報、別の提案ボタン

### 3.3 詳しく見る / 別の提案を選ぶ
**コンテキスト**: 興味を持った、または別の場所を探したい
**感情**: 決断への前進
**問い**: 「もっと詳しく知りたい」「別の場所は？」
**必要な情報**: 詳細ページへの導線、別の提案機能

### 3.4 能動的な探索（オプション）
**コンテキスト**: 提案に興味がない、自分で探したい
**感情**: 能動性、探索欲
**問い**: 「自分で探したい」
**必要な情報**: 探索モード（検索、リスト）

### 3.5 次の行動へ
**コンテキスト**: 行きたい場所が決まった
**感情**: やる気、計画性
**問い**: 「どうやって行く？いつ行く？」
**必要な情報**: お気に入り保存、プラン作成（別タブ）

## 4. 情報アーキテクチャ

### 4.1 主要な情報階層（ユーザー体験から逆算）

**ユーザーの問い**: 「今日、何をしよう？」

この問いに答えるために、情報を最小限に絞る。

```
発見ページ（メイン）
└── プライマリアクション（唯一の必須情報）
    └── 今週末のおすすめ（未訪問優先）
        ├── スポット情報
        ├── [詳しく見る] ボタン
        └── [別の提案] ボタン

└── オプションアクション（必要時のみ）
    └── 探索モード（折りたたみ可能）
        ├── 観光地・お土産切り替え
        ├── 検索
        └── リスト表示
```

### 4.2 情報の優先順位（再定義）

**レベル1（唯一の必須）**: 今週末のおすすめ
- **ユーザーの問い**: 「何をしよう？」
- **答え**: 「ここに行こう」
- **配置**: 画面の中央、最大の視覚的強調
- **サイズ**: 画面の50-60%
- **理由**: 選択肢を1つに絞ることで、行動を促す

**レベル2（オプション）**: 探索モード
- **ユーザーの問い**: 「もっと探したい」
- **答え**: 「検索・リストで探せる」
- **配置**: 下部、折りたたみ可能
- **サイズ**: 展開時のみ画面の40-50%
- **理由**: 能動的な探索は「何をしよう？」に答えた後の行動

**削除した情報と理由**:
- **統計情報**: 「何をしよう？」に答えない。別タブで確認可能。
- **ランダムプラン作成**: プランタブで十分。メイン画面では混乱を招く。
- **コンセプトメッセージ**: 初回のみ表示。継続利用時は不要。

## 5. 画面設計

### 5.1 発見ページの構造 - ユーザー体験から逆算した設計

#### ユーザーがアプリを開いた瞬間の問い
**「今日、何をしよう？」**

この問いに答えるために、情報を提示する順序と理由を明確にする。

#### 設計原則
1. **1つの明確なアクション**: 画面を見た瞬間に「何をすべきか」が分かる
2. **段階的な情報開示**: 必要最小限の情報から始め、必要に応じて詳細を開示
3. **コンテキストに応じた提示**: ユーザーの状態（初回/継続、訪問済み数など）に応じて情報を変える

#### 画面構造（ユーザー体験の流れに沿って）

```
┌─────────────────────────┐
│ ヘッダー: 発見          │
├─────────────────────────┤
│                         │
│    [メインアクション]    │ ← 画面の中央、最大の視覚的強調
│                         │
│    「今週末、ここは？   │
│      [スポット名]」      │
│                         │
│    [詳しく見る]         │ ← 唯一のプライマリボタン
│                         │
│    [別の提案]           │ ← セカンダリ、小さく
│                         │
├─────────────────────────┤
│                         │
│  [探索モード]           │ ← 折りたたみ可能、必要時のみ展開
│  [観光地] [お土産]      │
│  [検索]                 │
│                         │
└─────────────────────────┘
```

#### なぜこの構造なのか

**メインアクション（今週末のおすすめ）を中央に配置する理由**:
- ユーザーの主要な目的「何をしよう？」に直接答える
- 選択の余地を減らし、行動を促す
- 「別の提案」で迷いを解消

**探索モードを折りたたみ可能にする理由**:
- 能動的な探索は「何をしよう？」に答えた後の行動
- 初回訪問時は不要な情報で画面を埋めない
- 必要になった時に展開できる

**統計情報を削除する理由**:
- 「何をしよう？」という問いに答えない
- 別タブ（お気に入り、プラン）で確認できる
- メイン画面は「次の行動」に集中

**ランダムプラン作成を削除する理由**:
- 「今週末のおすすめ」で1つの場所を提案する方が明確
- プラン作成は「お気に入りが複数ある時」の行動
- プランタブで十分

#### ユーザーの状態に応じた表示

**初回訪問時**:
- メインアクション: ランダムな観光地を1つ表示
- 探索モード: 折りたたみ状態

**継続利用時（お気に入りあり）**:
- メインアクション: 未訪問のお気に入りを優先表示
- 探索モード: 折りたたみ状態

**継続利用時（訪問済み多数）**:
- メインアクション: 未訪問の観光地を優先表示
- 探索モード: 折りたたみ状態

**能動的に探索したい時**:
- 探索モードを展開
- 検索、リスト表示

#### 情報の優先順位（再定義）

**レベル1（必須）**: 今週末のおすすめ
- 理由: ユーザーの主要な問い「何をしよう？」に直接答える
- 配置: 画面の中央、最大の視覚的強調
- サイズ: 画面の50-60%を占める

**レベル2（オプション）**: 探索モード
- 理由: 能動的な探索が必要になった時に使用
- 配置: 下部、折りたたみ可能
- サイズ: 展開時のみ画面の40-50%

**削除した情報**:
- 統計情報: 別タブで確認可能、メイン画面では不要
- ランダムプラン作成: プランタブで十分、メイン画面では混乱を招く
- コンセプトメッセージ: 初回のみ表示、継続利用時は不要

### 5.2 視覚的階層

**Z-Index（重要度順）**:
1. 今週末のおすすめカード（最大、影、角丸）
2. ランダムプラン作成ボタン（中、明確なコントラスト）
3. 統計情報（小、コンパクト）
4. リスト（標準、スクロール可能）

**スペーシング**:
- セクション間: 24px
- カード内パディング: 16px
- 要素間: 12px

**タイポグラフィ**:
- コンセプト見出し: 24px, bold
- セクション見出し: 18px, semibold
- 本文: 14px, regular
- キャプション: 12px, regular

## 6. インタラクションデザイン

### 6.1 プライマリアクション

**今週末のおすすめ**:
- 自動表示（未訪問優先）
- 「別の場所を提案」で即座に更新
- タップで詳細ページへ

**ランダムプラン作成**:
- ワンタップでプラン作成開始
- 未訪問優先で選択
- 作成後、プラン詳細へ自動遷移

### 6.2 セカンダリアクション

**観光地・お土産リスト**:
- セグメントで切り替え
- 検索で即座にフィルタリング
- リストアイテムタップで詳細

**統計情報**:
- タップで詳細ページへ（将来実装）
- リアルタイム更新

### 6.3 マイクロインタラクション

- プルリフレッシュ: おすすめを更新
- スワイプ: リストのスクロール
- タップフィードバック: すべてのボタンに

## 7. 情報のグルーピング（再設計）

### 7.1 機能グループ（最小限に）

**グループ1: メインアクション（必須）**
- 今週末のおすすめ
- 別の場所を提案
→ 目的: 「何をしよう？」に答える

**グループ2: 探索モード（オプション）**
- 観光地・お土産リスト
- 検索機能
→ 目的: 能動的な探索が必要になった時に使用

**削除したグループ**:
- 計画と実行: プランタブで十分
- 統計情報: お気に入り・プランタブで確認可能

### 7.2 情報の関係性（シンプル化）

```
アプリを開く
    ↓
「何をしよう？」という問い
    ↓
今週末のおすすめ（1つの提案）
    ↓
[興味がある] → 詳しく見る → お気に入り保存 → プラン作成（別タブ）
    ↓
[興味がない] → 別の提案 → 新しい提案
    ↓
[自分で探したい] → 探索モード展開 → 検索・リスト
```

## 8. コンテキスト設計

### 8.1 初回訪問時
- コンセプトメッセージを強調
- 今週末のおすすめを表示
- 統計情報は0件でも表示（期待値を設定）

### 8.2 継続利用時
- 統計情報が増える
- 未訪問優先の提案が機能
- プラン作成が自然な流れに

### 8.3 エラー状態
- データ読み込み失敗時は明確なメッセージ
- 再試行ボタンを提供
- ユーザーを不安にさせない

## 9. アクセシビリティ

- コントラスト比: WCAG AA準拠
- タップ領域: 最小44x44px
- フォーカス状態: 明確に表示
- スクリーンリーダー: 適切なラベル

## 10. パフォーマンス

- 初回読み込み: 3秒以内
- リストスクロール: 60fps維持
- 画像: 遅延読み込み
- データ: キャッシュ活用

## 11. 実装の優先順位（再定義）

### Phase 1（必須 - ユーザーの問いに答える）
1. 今週末のおすすめ（画面中央、最大の視覚的強調）
2. 別の提案ボタン
3. 詳しく見るボタン

### Phase 2（オプション - 必要時のみ）
4. 探索モード（折りたたみ可能）
5. 観光地・お土産切り替え
6. 検索機能
7. リスト表示

### Phase 3（削除 - 別タブで十分）
- コンセプトメッセージ（初回のみ、別途実装）
- ランダムプラン作成（プランタブで十分）
- 統計情報（お気に入り・プランタブで確認可能）

### Phase 4（改善）
8. プルリフレッシュ
9. マイクロインタラクション
10. アニメーション
11. パフォーマンス最適化

